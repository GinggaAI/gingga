%main.flex-1.overflow-y-auto
  .p-8
    .max-w-6xl.mx-auto
      .mb-8
        %h1.text-3xl.font-bold.text-gray-900.mb-2= t('settings.title')
        %p.text-gray-600= t('settings.subtitle')
      .space-y-6{"data-controller" => "tabs", "data-orientation" => "horizontal", :dir => "ltr"}
        .h-10.items-center.justify-center.text-muted-foreground.grid.w-full.grid-cols-3.bg-white.border-2.border-gray-200.rounded-xl.p-1{"aria-orientation" => "horizontal", "data-orientation" => "horizontal", :role => "tablist", :style => "outline: none;", :tabindex => "0"}
          %button.inline-flex.items-center.justify-center.whitespace-nowrap.px-3.text-sm.ring-offset-background.transition-all.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.rounded-lg.font-medium{"aria-controls" => "radix-«r72»-content-api-tokens", "aria-selected" => "true", :class => "py-1.5 data-[state=active]:shadow-sm data-[state=active]:bg-[#FFC940] data-[state=active]:text-black", "data-orientation" => "horizontal", "data-radix-collection-item" => "", "data-state" => "active", "data-tabs-target" => "tab", "data-action" => "click->tabs#switchTab", :id => "radix-«r72»-trigger-api-tokens", :role => "tab", :tabindex => "-1", :type => "button"}
            %svg.lucide.lucide-key.w-4.h-4.mr-2{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}>
              %path{:d => "m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4"}
              %path{:d => "m21 2-9.6 9.6"}
              %circle{:cx => "7.5", :cy => "15.5", :r => "5.5"}
            API Integrations
          %button.inline-flex.items-center.justify-center.whitespace-nowrap.px-3.text-sm.ring-offset-background.transition-all.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.rounded-lg.font-medium{"aria-controls" => "radix-«r72»-content-account", "aria-selected" => "false", :class => "py-1.5 data-[state=active]:shadow-sm data-[state=active]:bg-[#FFC940] data-[state=active]:text-black", "data-orientation" => "horizontal", "data-radix-collection-item" => "", "data-state" => "inactive", "data-tabs-target" => "tab", "data-action" => "click->tabs#switchTab", :id => "radix-«r72»-trigger-account", :role => "tab", :tabindex => "-1", :type => "button"}
            %svg.lucide.lucide-user.w-4.h-4.mr-2{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}>
              %path{:d => "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}
              %circle{:cx => "12", :cy => "7", :r => "4"}
            Account
          %button.inline-flex.items-center.justify-center.whitespace-nowrap.px-3.text-sm.ring-offset-background.transition-all.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.rounded-lg.font-medium{"aria-controls" => "radix-«r72»-content-security", "aria-selected" => "false", :class => "py-1.5 data-[state=active]:shadow-sm data-[state=active]:bg-[#FFC940] data-[state=active]:text-black", "data-orientation" => "horizontal", "data-radix-collection-item" => "", "data-state" => "inactive", "data-tabs-target" => "tab", "data-action" => "click->tabs#switchTab", :id => "radix-«r72»-trigger-security", :role => "tab", :tabindex => "-1", :type => "button"}
            %svg.lucide.lucide-shield.w-4.h-4.mr-2{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}>
              %path{:d => "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}
            Security
        .mt-2.ring-offset-background.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2{"aria-labelledby" => "radix-«r72»-trigger-api-tokens", "data-orientation" => "horizontal", "data-state" => "active", "data-tabs-target" => "panel", :id => "radix-«r72»-content-api-tokens", :role => "tabpanel", :style => "animation-duration: 0s;", :tabindex => "0"}
          .space-y-6
            .bg-card.text-card-foreground.border-0.shadow-lg.rounded-2xl
              .flex.flex-col.p-6{:class => "space-y-1.5"}
                .font-semibold.tracking-tight.text-xl.flex.items-center.gap-2
                  %svg.lucide.lucide-zap.w-5.h-5{:class => "text-[#FFC940]", :fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}>
                    %path{:d => "M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"}
                  API Integrations Overview
              .p-6.pt-0
                .grid.md:grid-cols-3.gap-6
                  .text-center.p-4.rounded-xl{:class => "bg-[#FFC940]/10"}
                    .text-2xl.font-bold.text-gray-900 0
                    .text-sm.text-gray-600 Active Connections
                  .text-center.p-4.rounded-xl{:class => "bg-[#3AC8FF]/10"}
                    .text-2xl.font-bold.text-gray-900 3
                    .text-sm.text-gray-600 Available Services
                  .text-center.p-4.rounded-xl{:class => "bg-[#A37FFF]/10"}
                    .text-2xl.font-bold.text-gray-900 3
                    .text-sm.text-gray-600 Test Mode
            .space-y-6
              .bg-card.text-card-foreground.border-0.shadow-lg.rounded-2xl
                .flex.flex-col.p-6{:class => "space-y-1.5"}
                  .flex.items-center.justify-between
                    .flex.items-center.gap-4
                      .w-12.h-12.bg-green-500.rounded-full.flex.items-center.justify-center.text-white
                        %svg.lucide.lucide-sparkles.w-5.h-5{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                          %path{:d => "M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}
                          %path{:d => "M20 3v4"}
                          %path{:d => "M22 5h-4"}
                          %path{:d => "M4 17v2"}
                          %path{:d => "M5 18H3"}
                      %div
                        .font-semibold.tracking-tight.text-lg OpenAI
                        %p.text-sm.text-gray-600 AI text generation and content creation
                    .flex.items-center.gap-3
                      .inline-flex.items-center.rounded-full.border.text-xs.font-semibold.transition-colors.focus:outline-none.focus:ring-2.focus:ring-ring.focus:ring-offset-2.border-transparent.bg-secondary.text-secondary-foreground{:class => "px-2.5 py-0.5 hover:bg-secondary/80"} Not configured
                      %button.inline-flex.items-center.justify-center.gap-2.whitespace-nowrap.text-sm.font-medium.ring-offset-background.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.border.border-input.hover:bg-accent.hover:text-accent-foreground.h-9.px-3.rounded-xl.bg-transparent{:class => "[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0"}
                        %svg.lucide.lucide-external-link.w-4.h-4.mr-1{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}>
                          %path{:d => "M15 3h6v6"}
                          %path{:d => "M10 14 21 3"}
                          %path{:d => "M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}
                        Get API Key
                .p-6.pt-0.space-y-6
                  .flex.items-center.justify-between.p-4.bg-gray-50.rounded-xl
                    .flex.items-center.gap-3
                      %svg.lucide.lucide-test-tube.w-5.h-5.text-orange-500{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                        %path{:d => "M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2"}
                        %path{:d => "M8.5 2h7"}
                        %path{:d => "M14.5 16h-5"}
                      %div
                        .font-medium Test Mode
                        .text-sm.text-gray-600 Use for development and testing
                    %button.peer.inline-flex.h-6.w-11.shrink-0.cursor-pointer.items-center.rounded-full.border-2.border-transparent.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.focus-visible:ring-offset-background.disabled:cursor-not-allowed.disabled:opacity-50{"aria-checked" => "false", :class => "data-[state=checked]:bg-primary data-[state=unchecked]:bg-input", "data-state" => "unchecked", :role => "switch", :type => "button", :value => "on"}
                      %span.pointer-events-none.block.h-5.w-5.rounded-full.bg-background.shadow-lg.ring-0.transition-transform{:class => "data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0", "data-state" => "unchecked"}
                  .space-y-4
                    %div
                      %label.peer-disabled:cursor-not-allowed.peer-disabled:opacity-70.text-sm.font-medium.text-gray-700{:for => "token-openai"} API Key
                      .relative.mt-1
                        %input#token-openai.flex.h-10.w-full.bg-background.px-3.py-2.text-base.ring-offset-background.file:border-0.file:bg-transparent.file:text-sm.file:font-medium.file:text-foreground.placeholder:text-muted-foreground.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:cursor-not-allowed.disabled:opacity-50.md:text-sm.pr-20.rounded-xl.border-2.border-gray-200{:class => "focus:border-[#FFC940]", :placeholder => "Enter your OpenAI API key...", :type => "password", :value => ""}/
                        .absolute.right-2.transform.flex.items-center.gap-1{:class => "top-1/2 -translate-y-1/2"}
                          %button.inline-flex.items-center.justify-center.gap-2.whitespace-nowrap.text-sm.font-medium.ring-offset-background.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.hover:bg-accent.hover:text-accent-foreground.rounded-md.h-8.w-8.p-0{:class => "[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", :type => "button"}
                            %svg.lucide.lucide-eye.w-4.h-4{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                              %path{:d => "M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}
                              %circle{:cx => "12", :cy => "12", :r => "3"}
                      .mt-2.text-xs.text-gray-500 Example: sk-proj-abc123...
                    .flex.gap-3
                      %button.inline-flex.items-center.justify-center.gap-2.whitespace-nowrap.text-sm.font-medium.ring-offset-background.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.h-10.px-4.py-2.text-white.rounded-xl{:class => "[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-[#3AC8FF] hover:bg-[#3AC8FF]/90", :disabled => ""}
                        %svg.lucide.lucide-circle-check-big.w-4.h-4.mr-2{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}>
                          %path{:d => "M21.801 10A10 10 0 1 1 17 3.335"}
                          %path{:d => "m9 11 3 3L22 4"}
                        Validate
                  .p-4.bg-amber-50.border.border-amber-200.rounded-xl
                    .flex.items-start.gap-3
                      %svg.lucide.lucide-triangle-alert.w-5.h-5.text-amber-600.flex-shrink-0{:class => "mt-0.5", :fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                        %path{:d => "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}
                        %path{:d => "M12 9v4"}
                        %path{:d => "M12 17h.01"}
                      .text-sm
                        .font-medium.text-amber-800 Security Notice
                        .text-amber-700.mt-1 API keys are encrypted and stored securely. Never share your API keys with others.
              .bg-card.text-card-foreground.border-0.shadow-lg.rounded-2xl
                .flex.flex-col.p-6{:class => "space-y-1.5"}
                  .flex.items-center.justify-between
                    .flex.items-center.gap-4
                      .w-12.h-12.bg-purple-500.rounded-full.flex.items-center.justify-center.text-white
                        %svg.lucide.lucide-user.w-5.h-5{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                          %path{:d => "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}
                          %circle{:cx => "12", :cy => "7", :r => "4"}
                      %div
                        .font-semibold.tracking-tight.text-lg Heygen
                        %p.text-sm.text-gray-600 AI avatar creation and video generation
                    .flex.items-center.gap-3
                      .inline-flex.items-center.rounded-full.border.text-xs.font-semibold.transition-colors.focus:outline-none.focus:ring-2.focus:ring-ring.focus:ring-offset-2.border-transparent.bg-secondary.text-secondary-foreground{:class => "px-2.5 py-0.5 hover:bg-secondary/80"} Not configured
                      %button.inline-flex.items-center.justify-center.gap-2.whitespace-nowrap.text-sm.font-medium.ring-offset-background.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.border.border-input.hover:bg-accent.hover:text-accent-foreground.h-9.px-3.rounded-xl.bg-transparent{:class => "[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0"}
                        %svg.lucide.lucide-external-link.w-4.h-4.mr-1{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}>
                          %path{:d => "M15 3h6v6"}
                          %path{:d => "M10 14 21 3"}
                          %path{:d => "M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}
                        Get API Key
                .p-6.pt-0.space-y-6
                  .flex.items-center.justify-between.p-4.bg-gray-50.rounded-xl
                    .flex.items-center.gap-3
                      %svg.lucide.lucide-test-tube.w-5.h-5.text-orange-500{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                        %path{:d => "M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2"}
                        %path{:d => "M8.5 2h7"}
                        %path{:d => "M14.5 16h-5"}
                      %div
                        .font-medium Test Mode
                        .text-sm.text-gray-600 Use for development and testing
                    %button.peer.inline-flex.h-6.w-11.shrink-0.cursor-pointer.items-center.rounded-full.border-2.border-transparent.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.focus-visible:ring-offset-background.disabled:cursor-not-allowed.disabled:opacity-50{"aria-checked" => "false", :class => "data-[state=checked]:bg-primary data-[state=unchecked]:bg-input", "data-state" => "unchecked", :role => "switch", :type => "button", :value => "on"}
                      %span.pointer-events-none.block.h-5.w-5.rounded-full.bg-background.shadow-lg.ring-0.transition-transform{:class => "data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0", "data-state" => "unchecked"}
                  .space-y-4
                    %div
                      %label.peer-disabled:cursor-not-allowed.peer-disabled:opacity-70.text-sm.font-medium.text-gray-700{:for => "token-heygen"} API Key
                      .relative.mt-1
                        %input#token-heygen.flex.h-10.w-full.bg-background.px-3.py-2.text-base.ring-offset-background.file:border-0.file:bg-transparent.file:text-sm.file:font-medium.file:text-foreground.placeholder:text-muted-foreground.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:cursor-not-allowed.disabled:opacity-50.md:text-sm.pr-20.rounded-xl.border-2.border-gray-200{:class => "focus:border-[#FFC940]", :placeholder => "Enter your Heygen API key...", :type => "password", :value => ""}/
                        .absolute.right-2.transform.flex.items-center.gap-1{:class => "top-1/2 -translate-y-1/2"}
                          %button.inline-flex.items-center.justify-center.gap-2.whitespace-nowrap.text-sm.font-medium.ring-offset-background.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.hover:bg-accent.hover:text-accent-foreground.rounded-md.h-8.w-8.p-0{:class => "[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", :type => "button"}
                            %svg.lucide.lucide-eye.w-4.h-4{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                              %path{:d => "M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}
                              %circle{:cx => "12", :cy => "12", :r => "3"}
                      .mt-2.text-xs.text-gray-500 Example: hg_abc123...
                    .flex.gap-3
                      %button.inline-flex.items-center.justify-center.gap-2.whitespace-nowrap.text-sm.font-medium.ring-offset-background.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.h-10.px-4.py-2.text-white.rounded-xl{:class => "[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-[#3AC8FF] hover:bg-[#3AC8FF]/90", :disabled => ""}
                        %svg.lucide.lucide-circle-check-big.w-4.h-4.mr-2{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}>
                          %path{:d => "M21.801 10A10 10 0 1 1 17 3.335"}
                          %path{:d => "m9 11 3 3L22 4"}
                        Validate
                  .p-4.bg-amber-50.border.border-amber-200.rounded-xl
                    .flex.items-start.gap-3
                      %svg.lucide.lucide-triangle-alert.w-5.h-5.text-amber-600.flex-shrink-0{:class => "mt-0.5", :fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                        %path{:d => "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}
                        %path{:d => "M12 9v4"}
                        %path{:d => "M12 17h.01"}
                      .text-sm
                        .font-medium.text-amber-800 Security Notice
                        .text-amber-700.mt-1 API keys are encrypted and stored securely. Never share your API keys with others.
              .bg-card.text-card-foreground.border-0.shadow-lg.rounded-2xl
                .flex.flex-col.p-6{:class => "space-y-1.5"}
                  .flex.items-center.justify-between
                    .flex.items-center.gap-4
                      .w-12.h-12.bg-blue-500.rounded-full.flex.items-center.justify-center.text-white
                        %svg.lucide.lucide-video.w-5.h-5{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                          %path{:d => "m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5"}
                          %rect{:height => "12", :rx => "2", :width => "14", :x => "2", :y => "6"}
                      %div
                        .font-semibold.tracking-tight.text-lg Kling AI
                        %p.text-sm.text-gray-600 Cinematic video rendering and effects
                    .flex.items-center.gap-3
                      .inline-flex.items-center.rounded-full.border.text-xs.font-semibold.transition-colors.focus:outline-none.focus:ring-2.focus:ring-ring.focus:ring-offset-2.border-transparent.bg-secondary.text-secondary-foreground{:class => "px-2.5 py-0.5 hover:bg-secondary/80"} Not configured
                      %button.inline-flex.items-center.justify-center.gap-2.whitespace-nowrap.text-sm.font-medium.ring-offset-background.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.border.border-input.hover:bg-accent.hover:text-accent-foreground.h-9.px-3.rounded-xl.bg-transparent{:class => "[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0"}
                        %svg.lucide.lucide-external-link.w-4.h-4.mr-1{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}>
                          %path{:d => "M15 3h6v6"}
                          %path{:d => "M10 14 21 3"}
                          %path{:d => "M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}
                        Get API Key
                .p-6.pt-0.space-y-6
                  .flex.items-center.justify-between.p-4.bg-gray-50.rounded-xl
                    .flex.items-center.gap-3
                      %svg.lucide.lucide-test-tube.w-5.h-5.text-orange-500{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                        %path{:d => "M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2"}
                        %path{:d => "M8.5 2h7"}
                        %path{:d => "M14.5 16h-5"}
                      %div
                        .font-medium Test Mode
                        .text-sm.text-gray-600 Use for development and testing
                    %button.peer.inline-flex.h-6.w-11.shrink-0.cursor-pointer.items-center.rounded-full.border-2.border-transparent.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.focus-visible:ring-offset-background.disabled:cursor-not-allowed.disabled:opacity-50{"aria-checked" => "false", :class => "data-[state=checked]:bg-primary data-[state=unchecked]:bg-input", "data-state" => "unchecked", :role => "switch", :type => "button", :value => "on"}
                      %span.pointer-events-none.block.h-5.w-5.rounded-full.bg-background.shadow-lg.ring-0.transition-transform{:class => "data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0", "data-state" => "unchecked"}
                  .space-y-4
                    %div
                      %label.peer-disabled:cursor-not-allowed.peer-disabled:opacity-70.text-sm.font-medium.text-gray-700{:for => "token-kling"} API Key
                      .relative.mt-1
                        %input#token-kling.flex.h-10.w-full.bg-background.px-3.py-2.text-base.ring-offset-background.file:border-0.file:bg-transparent.file:text-sm.file:font-medium.file:text-foreground.placeholder:text-muted-foreground.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:cursor-not-allowed.disabled:opacity-50.md:text-sm.pr-20.rounded-xl.border-2.border-gray-200{:class => "focus:border-[#FFC940]", :placeholder => "Enter your Kling AI API key...", :type => "password", :value => ""}/
                        .absolute.right-2.transform.flex.items-center.gap-1{:class => "top-1/2 -translate-y-1/2"}
                          %button.inline-flex.items-center.justify-center.gap-2.whitespace-nowrap.text-sm.font-medium.ring-offset-background.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.hover:bg-accent.hover:text-accent-foreground.rounded-md.h-8.w-8.p-0{:class => "[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", :type => "button"}
                            %svg.lucide.lucide-eye.w-4.h-4{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                              %path{:d => "M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}
                              %circle{:cx => "12", :cy => "12", :r => "3"}
                      .mt-2.text-xs.text-gray-500 Example: kl_abc123...
                    .flex.gap-3
                      %button.inline-flex.items-center.justify-center.gap-2.whitespace-nowrap.text-sm.font-medium.ring-offset-background.transition-colors.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2.disabled:pointer-events-none.disabled:opacity-50.h-10.px-4.py-2.text-white.rounded-xl{:class => "[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-[#3AC8FF] hover:bg-[#3AC8FF]/90", :disabled => ""}
                        %svg.lucide.lucide-circle-check-big.w-4.h-4.mr-2{:fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}>
                          %path{:d => "M21.801 10A10 10 0 1 1 17 3.335"}
                          %path{:d => "m9 11 3 3L22 4"}
                        Validate
                  .p-4.bg-amber-50.border.border-amber-200.rounded-xl
                    .flex.items-start.gap-3
                      %svg.lucide.lucide-triangle-alert.w-5.h-5.text-amber-600.flex-shrink-0{:class => "mt-0.5", :fill => "none", :height => "24", :stroke => "currentColor", "stroke-linecap" => "round", "stroke-linejoin" => "round", "stroke-width" => "2", :viewbox => "0 0 24 24", :width => "24", :xmlns => "http://www.w3.org/2000/svg"}
                        %path{:d => "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}
                        %path{:d => "M12 9v4"}
                        %path{:d => "M12 17h.01"}
                      .text-sm
                        .font-medium.text-amber-800 Security Notice
                        .text-amber-700.mt-1 API keys are encrypted and stored securely. Never share your API keys with others.
        .mt-2.ring-offset-background.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2{"aria-labelledby" => "radix-«r72»-trigger-account", "data-orientation" => "horizontal", "data-state" => "inactive", "data-tabs-target" => "panel", :hidden => "", :id => "radix-«r72»-content-account", :role => "tabpanel", :tabindex => "0"}
          .space-y-6
            / Account Preferences Section
            .bg-card.text-card-foreground.border-0.shadow-lg.rounded-2xl
              .flex.flex-col.p-6{class: "space-y-1.5"}
                .font-semibold.tracking-tight.text-xl.flex.items-center.gap-2
                  %svg.lucide.lucide-user.w-5.h-5{class: "text-[#3AC8FF]", fill: "none", height: "24", stroke: "currentColor", "stroke-linecap": "round", "stroke-linejoin": "round", "stroke-width": "2", viewbox: "0 0 24 24", width: "24", xmlns: "http://www.w3.org/2000/svg"}
                    %path{d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}
                    %circle{cx: "12", cy: "7", r: "4"}
                  = t('settings.account_preferences')
                %p.text-sm.text-gray-600= t('settings.account_subtitle')
              .p-6.pt-0.space-y-6
                / Language Preferences Section
                .bg-gray-50.rounded-xl.p-6
                  .flex.items-center.gap-3.mb-4
                    %svg.lucide.lucide-globe.w-5.h-5.text-indigo-600{fill: "none", height: "24", stroke: "currentColor", "stroke-linecap": "round", "stroke-linejoin": "round", "stroke-width": "2", viewbox: "0 0 24 24", width: "24", xmlns: "http://www.w3.org/2000/svg"}
                      %circle{cx: "12", cy: "12", r: "10"}
                      %path{d: "M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}
                      %path{d: "M2 12h20"}
                    .flex.flex-col
                      %h3.font-semibold.text-gray-900= t('settings.language_settings')
                      %p.text-sm.text-gray-600= t('settings.language_subtitle')
                  = render Ui::LanguageSwitcherComponent.new(current_locale: I18n.locale)
        .mt-2.ring-offset-background.focus-visible:outline-none.focus-visible:ring-2.focus-visible:ring-ring.focus-visible:ring-offset-2{"aria-labelledby" => "radix-«r72»-trigger-security", "data-orientation" => "horizontal", "data-state" => "inactive", "data-tabs-target" => "panel", :hidden => "", :id => "radix-«r72»-content-security", :role => "tabpanel", :tabindex => "0"}
