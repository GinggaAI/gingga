- if show_create_reel_button?
  .mt-4.p-4.bg-gradient-to-r.from-green-50.to-blue-50.rounded-lg.border-l-4.border-green-500
    .flex.items-center.justify-between
      %div
        %h5.font-medium.text-gray-900.mb-1 ðŸŽ¬ #{t('planning.content_pieces.create_reel')}
        %p.text-sm.text-gray-600= t('planning.content_pieces.create_reel_description')
      = link_to new_reel_path_with_data, class: "bg-green-600 hover:bg-green-700 text-white font-medium px-4 py-2 rounded-lg transition-colors duration-200 flex items-center gap-2" do
        %span ðŸš€
        = t('planning.content_pieces.create_reel')

- if show_content_scenes?
  .mt-4.p-3.bg-purple-50.rounded.border-l-4.border-purple-500
    %h5.font-medium.text-gray-900.mb-3 ðŸŽ¬ #{t('planning.content_pieces.shot_plan_scenes')}
    .space-y-3
      - content_scenes.each do |scene|
        .bg-white.p-3.rounded.border-l-2.border-purple-300
          .flex.items-start.justify-between.mb-2
            %h6.font-semibold.text-sm.text-purple-800= scene_title_for(scene)
            - if scene["duration"]
              %span.text-xs.text-gray-500.bg-gray-100.px-2.py-1.rounded= scene["duration"]

          - if scene["description"]
            %p.text-sm.text-gray-700.mb-2= scene["description"]
          - if scene["visual"]
            %p.text-xs.text-gray-600
              %strong= t('planning.content_pieces.visual')
              = scene["visual"]
          - if scene["on_screen_text"]
            %p.text-xs.text-gray-600
              %strong= t('planning.content_pieces.on_screen_text')
              = scene["on_screen_text"]
          - if scene["voiceover"]
            %p.text-xs.text-gray-600
              %strong= t('planning.content_pieces.voiceover')
              = scene["voiceover"]

          - if scene["visual_elements"]&.any?
            .mt-2
              %p.text-xs.font-medium.text-gray-600.mb-1= t('planning.content_pieces.visual_elements')
              .flex.flex-wrap.gap-1
                - scene["visual_elements"].each do |element|
                  %span.text-xs.bg-purple-100.text-purple-700.px-2.py-1.rounded= element

          - if scene["avatar_id"]
            %p.text-xs.text-gray-600.mt-1
              %strong= t('planning.content_pieces.avatar')
              = scene["avatar_id"]
          - if scene["voice_id"]
            %p.text-xs.text-gray-600
              %strong= t('planning.content_pieces.voice')
              = scene["voice_id"]

- if show_content_beats?
  .mt-4.p-3.bg-amber-50.rounded.border-l-4.border-amber-500
    %h5.font-medium.text-gray-900.mb-3 ðŸ“‹ #{t('planning.content_pieces.shot_plan_beats')}
    .space-y-2
      - content_beats.each do |beat|
        .bg-white.p-2.rounded.border-l-2.border-amber-300
          .flex.items-center.justify-between
            %span.font-medium.text-sm.text-amber-800= beat_title_for(beat)
            - if beat["duration"]
              %span.text-xs.text-gray-500.bg-gray-100.px-2.py-1.rounded= beat["duration"]

          - if beat["description"]
            %p.text-sm.text-gray-700.mt-1= beat["description"]
          - if beat["image_prompt"]
            %p.text-xs.text-gray-600.mt-1
              %strong= t('planning.content_pieces.image')
              = beat["image_prompt"]
          - if beat["voiceover"]
            %p.text-xs.text-gray-600
              %strong= t('planning.content_pieces.voiceover')
              = beat["voiceover"]